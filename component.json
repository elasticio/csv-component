{
  "title": "CSV",
  "description": "A comma-separated values (CSV) file stores tabular data (numbers and text) in plain-text form",
  "docsUrl": "https://github.com/elasticio/csv-component",
  "triggers": {
    "read": {
      "main": "./lib/read.js",
      "title": "Read CSV file from URL",
      "type": "polling",
      "fields": {
        "url": {
          "label": "CSV URL",
          "required": true,
          "placeholder": "http://my-url.com/foo.csv",
          "note": "We will fetch this URL and parse it as CSV file",
          "viewClass": "TextFieldWithNoteView"
        },
        "reader": {
          "viewClass": "CSVReadView"
        }
      },
      "metadata": {
        "out": {}
      }
    }
  },
  "actions" : {
    "read_from_url":{
      "main": "./lib/actions/read.js",
      "title": "Read CSV file from URL",
      "fields": {
        "url": {
          "label": "CSV URL",
          "required": true,
          "viewClass": "TextAreaView",
          "note": "Put url, placeholders are optional. Placeholders should look like: {name}"
        },
        "username": {
          "label": "Username (for Basic auth)",
          "required": false,
          "note": "Put username for Basic auth, if required",
          "viewClass": "TextFieldView"
        },
        "password": {
          "label": "Password (for Basic auth)",
          "required": false,
          "note": "Put password for Basic auth, if required",
          "viewClass": "PasswordFieldView"
        },
        "returnAsAttachment": {
          "label": "Return result as attachment",
          "required": false,
          "note": "Check, if you need to return result as attachment, instead of emit as message",
          "viewClass": "CheckBoxView"
        },
        "reader": {
          "viewClass": "CSVReadView"
        }
      },
      "metadata": {
        "out": {}
      }
    },
    "read_attachment": {
      "main": "./lib/read.js",
      "title": "Read CSV attachment",
      "fields": {
        "reader": {
          "viewClass": "CSVReadView",
          "required": true
        }
      },
      "metadata": {
        "out": {}
      }
    },
    "write_attachment": {
      "description":
      "Multiple incoming events can be combined into one CSV file with the write CSV action.  See https://github.com/elasticio/csv-component/ for additional documentation.",
      "main": "./lib/actions/write.js",
      "title": "Write CSV attachment",
      "fields": {
        "writer": {
          "viewClass": "CSVWriteView"
        }
      },
      "metadata": {
        "in": {
            "type": "object",
            "properties": {}
        },
        "out": {}
      }
    }
  }
}
